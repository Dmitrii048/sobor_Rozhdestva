const schoolEvents =[
    {
        id: "xmas26",
        date: "07 января 2026 года",
        title: "Рождественский детский концерт",
        text: `
            <p>В престольный праздник состоялся детский праздничный рождественский концерт, организованный дружным коллективом педагогов Воскресной школы "Ковчег" Христо-Рождественского кафедрального собора г. Липецка.</p>
            <p>Поддержать юных артистов и разделить радость Рождества Христова собралось много гостей, среди которых были прихожане собора. Многие пришли на детский праздник целыми семьями.</p>
            <p>По благочестивой традиции в начале праздничной программы сводный хор Воскресной школы торжественно исполнил тропарь Рождества Христова. Воспитанники подготовили для дорогих гостей самые добрые и самые трогательные песни о Рождестве Христовом, о дружбе, о мире и любви к Богу и ближним, сценки о смысле Праздника, стихи, праздничные песнопения в исполнении детского церковного хора собора.</p>
            <p>В завершение концерта с поздравительным словом обратился духовник Воскресной школы - протоиерей Владимир Максимчук. От настоятеля собора протоиерея Василия Бильчук участники получили сладкие подарки и памятные книги.</p>
            <p>После концерта дети встретили Высокопреосвященнейшего Арсения, митрополита Липецкого и Задонского исполнением Рождественского тропаря и кондака. Правящий архиерей поздравил детей и вручил им подарки.</p>
        `,
        cover: "../images/event-xmas26-1.jpg",
        gallery:
    },
    {
        id: "sept25",
        date: "21 сентября 2025 года",
        title: "Начало нового учебного года",
        text: `
            <p>В праздник Рождества Пресвятой Богородицы, по завершении богослужения в церковном дворе Христо-Рождественского кафедрального собора г. Липецка состоялся праздничный концерт.</p>
            <p>Мероприятие, организованное воспитанниками воскресной школы «Ковчег», было посвящено первому двунадесятому празднику и началу нового учебного года. В программе прозвучали церковные песнопения, стихи и песни духовного содержания; дети порадовали зрителей яркими танцевальными композициями.</p>
            <p>В мероприятии приняла участие воспитанница Центра образования, реабилитации и оздоровления Авраскина Кира, которая исполнила песни о Богородице. Вторая часть концерта была посвящена учебе: дети разгадывали загадки и пытались понять, что преподаватели спрятали в черном ящике.</p>
            <p>Праздник завершился чайной трапезой с пирогами, которые заботливо приготовили мамы и бабушки воспитанников.</p>
        `,
        cover: "../images/event-sept25-1.jpg",
        gallery:[]
    },
    {
        id: "grad25",
        date: "11 мая 2025 года",
        title: "В воскресной школе чествовали выпускников",
        text: `
            <p>В воскресной школе «Ковчег» кафедрального собора Рождества Христова г. Липецка чествовали выпускников.</p>
            <p>Директор школы Ирина Викторовна, преподаватели и родители выпускников вспоминали годы обучения, которые, без сомнения, будут крепким фундаментом в жизни ребят.</p>
        `,
        cover: "../images/event-grad25-1.jpg",
        gallery:[]
    },
    {
        id: "easter25",
        date: "20 апреля 2025 года",
        title: "Пасхальный утренник",
        text: `
            <p>В праздник Светлого Христова Воскресения, на приходе кафедрального собора состоялся пасхальный утренник воспитанников воскресной школы «Ковчег».</p>
            <p>В концерте прозвучали стихи и песни духовного содержания, прославляющие Воскресение Христово; дети младшей возрастной группы представили вниманию прихожан театральную инсценировку.</p>
            <p>В завершение праздника детей и преподавателей поздравили настоятель кафедрального собора протоиерей Василий Бильчук и ключарь собора, духовник воскресной школы протоиерей Владимир Максимчук. На радостный возглас священников «Христос Воскресе!» под сводами собора прозвучал дружный хор детских голосов: «Воистину Воскресе!».</p>
            <p>В этот памятный день воспитанники встретили пасхальными приветствиями Высокопреосвященнейшего Арсения, митрополита Липецкого и Задонского. Владыка вручил детям пасхальные подарки.</p>
        `,
        cover: "../images/event-easter25-1.jpg",
        gallery:
    },
    {
        id: "maslenitsa25",
        date: "2 марта 2025 года",
        title: "Масленичная ярмарка",
        text: `
            <p>В Прощеное воскресенье, воспитанники воскресной школы «Ковчег» организовали и провели традиционную масленичную ярмарку. В организации праздничного мероприятия дети проявили особое усердие и любовь к общему делу.</p>
            <p>Под руководством преподавателей и родителей они приготовили разнообразную выпечку и ароматный чай. По завершении Литургии прихожане с удовольствием отведали блины и блинчики, которые пеклись во дворе храма, пирожки, пирожные, оладьи и пончики.</p>
            <p>Посетители ярмарки могли отведать и постную продукцию на предстоящий пост: винегрет, коврижки, хлеб, постные кексы, блины, разнообразную консервированную продукцию. В большом ассортименте были представлены детские поделки.</p>
            <p>«Масленичная ярмарка стала традиционным мероприятием, к которому дети и родители воскресной школы готовятся с нескрываемой радостью, - рассказывает директор школы Ирина Викторовна Заярина. – Это время, когда мы чувствуем себя единой, дружной семьей; ведь наше усердие приносит радость прихожанам храма».</p>
        `,
        cover: "../images/event-maslenitsa25-1.jpg",
        gallery:
    },
    {
        id: "occnt25",
        date: "8 января 2025 года",
        title: "Рождественский концерт в ОЦКНТ",
        text: `
            <p>Состоялся Рождественский концерт в ОЦКНТ. Вокальный ансамбль Воскресной школы "Ковчег" при Христо-Рождественском соборе участвовали в концерте в составе Архиерейского хора Собора.</p>
            <p>Исполняли музыкальную композицию "Рождественская песня" слова и музыка И. Цеслюкевич. Концертмейстер - Галина Решетникова.</p>
            <p>Духовная музыка как часть музыкальной культуры обладает огромным воспитательным потенциалом.</p>
        `,
        cover: "../images/event-occnt25-1.jpg",
        gallery:
    }
];

// --- ЛОГИКА ОТОБРАЖЕНИЯ И ПАГИНАЦИИ ---
document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("events-container");
    const loadMoreBtn = document.getElementById("load-more-btn");
    
    if (!container) return;

    let itemsPerPage = 5; // Показываем сначала 5 новостей
    let currentPage = 1;

    function renderEvents() {
        let html = "";
        let endIndex = currentPage * itemsPerPage;
        
        let eventsToShow = schoolEvents.slice(0, endIndex);

        eventsToShow.forEach(event => {
            let galleryHtml = "";
            // Рисуем невидимые ссылки для Fancybox
            if (event.gallery && event.gallery.length > 0) {
                event.gallery.forEach(imgUrl => {
                    galleryHtml += `<a href="${imgUrl}" data-fancybox="gallery-${event.id}" style="display:none;"></a>`;
                });
            }

            html += `
                <div class="event-card">
                    <a href="${event.cover}" class="event-img-wrap" data-fancybox="gallery-${event.id}" data-caption="${event.title}">
                        <img src="${event.cover}" alt="${event.title}" onerror="this.src='../images/event-placeholder.jpg'; this.onerror=null;">
                    </a>
                    ${galleryHtml}
                    <div class="event-info">
                        <span class="event-date">${event.date}</span>
                        <h4 class="event-title">${event.title}</h4>
                        <div class="event-text">${event.text}</div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;

        // Показываем кнопку "Загрузить еще", если есть невыведенные посты
        if (schoolEvents.length > endIndex) {
            loadMoreBtn.style.display = "inline-block";
        } else {
            loadMoreBtn.style.display = "none";
        }
    }

    renderEvents();

    if (loadMoreBtn) {
        loadMoreBtn.addEventListener("click", () => {
            currentPage++;
            renderEvents();
        });
    }
});
