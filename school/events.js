const schoolEvents =[
    {
        id: "xmas26",
        date: "07 января 2026 года",
        title: "Рождественский детский праздник",
        text: `
            <p>В престольный праздник​ состоялся детский праздничный рождественский концерт, организованный дружным коллективом Воскресной школы " Ковчег" Христо-Рождественского кафедрального собора г. Липецка (директором - Заяриной Ириной Викторовной, преподавателями - Алексеевой Татьяной Петровной, Козадеровой Юлией Николаевной).</p>
            <p>Поддержать юных артистов и разделить радость Рождества Христова собралось много гостей, среди которых были прихожане собора. Многие пришли на детский праздник целыми семьями.</p>
            <p>По благочестивой традиции в начале праздничной программы сводный хор Воскресной школы торжественно исполнил тропарь Рождества Христова. Воспитанники Воскресной школы подготовили для дорогих гостей самые добрые и самые трогательные песни о Рождестве Христовом, о дружбе, о мире и любви к Богу и ближним, сценки о смысле Праздника, стихи и колядки.</p>
            <p>В завершение праздничного концерта с поздравительным словом обратился духовник Воскресной школы - протоиерей Владимир Максимчук. От настоятеля собора протоиерея Василия Бильчук участники получили сладкие подарки и памятные книги.</p>
            <p>После концерта дети встретили Высокопреосвященнейшего Арсения, митрополита Липецкого и Задонского исполнением Рождественского тропаря. Правящий архиерей поздравил детей и вручил им подарки с пожеланиями мира, добра и любви во Христе.</p>
        `,
        cover: "../images/event-xmas26-1.jpg",
        gallery:
    },
    {
        id: "sept25",
        date: "21 сентября 2025 года",
        title: "Праздник Рождества Пресвятой Богородицы",
        text: `
            <p>В праздник Рождества Пресвятой Богородицы, по завершении богослужения в церковном дворе кафедрального собора состоялся праздничный концерт, посвященный началу нового учебного года.</p>
            <p>В концертной программе прозвучали церковные песнопения, стихи и песни духовного содержания; дети порадовали зрителей исполнением ярких танцевальных композиций. В мероприятии приняла участие воспитанница Центра образования, реабилитации и оздоровления Авраскина Кира.</p>
            <p>Вторая часть концерта была посвящена началу нового учебного года. Дети читали стихи о воскресной школе, разгадывали загадки и пытались понять, что преподаватели спрятали в черном ящике.</p>
            <p>Праздник завершился чайной трапезой с пирогами, которые заботливо приготовили мамы и бабушки воспитанников. К застолью были приглашены прихожане кафедрального собора.</p>
        `,
        cover: "../images/event-sept25-1.jpg",
        gallery:
    },
    {
        id: "grad25",
        date: "11 мая 2025 года",
        title: "В воскресной школе «Ковчег» чествовали выпускников",
        text: `
            <p>В воскресной школе кафедрального собора Рождества Христова г. Липецка состоялось торжественное мероприятие, посвященное чествованию выпускников старшей группы.</p>
            <p>Преподаватели и родители вспоминали годы обучения, которые, без сомнения, станут крепким духовным фундаментом в жизни ребят. Выпускникам были сказаны теплые напутственные слова и вручены памятные подарки.</p>
        `,
        cover: "../images/event-grad25-1.jpg",
        gallery:
    },
    {
        id: "easter25",
        date: "20 апреля 2025 года",
        title: "Пасхальный утренник",
        text: `
            <p>В праздник Светлого Христова Воскресения состоялся пасхальный утренник воспитанников воскресной школы «Ковчег».</p>
            <p>В концерте прозвучали стихи и песни духовного содержания, прославляющие Воскресение Христово; дети младшей возрастной группы представили вниманию прихожан театральную инсценировку.</p>
            <p>В завершение праздника детей поздравили настоятель собора протоиерей Василий Бильчук и ключарь собора, духовник школы протоиерей Владимир Максимчук. На радостный возглас священников «Христос Воскресе!» прозвучал дружный хор детских голосов: «Воистину Воскресе!».</p>
            <p>В этот памятный день воспитанники встретили пасхальными приветствиями Высокопреосвященнейшего Арсения, митрополита Липецкого и Задонского. Владыка поздравил детей и вручил им пасхальные подарки с пожеланием мира, добра, радости и любви во Христе.</p>
        `,
        cover: "../images/event-easter25-1.jpg",
        gallery:
    },
    {
        id: "maslenitsa25",
        date: "2 марта 2025 года",
        title: "Масленичная ярмарка",
        text: `
            <p>В Прощеное воскресенье воспитанники воскресной школы организовали традиционную масленичную ярмарку. В организации дети проявили особое усердие и любовь к общему делу.</p>
            <p>Под руководством преподавателей и родителей они приготовили выпечку и ароматный чай. По завершении Литургии прихожане с удовольствием отведали блины, которые пеклись во дворе храма, пирожки, оладьи и пончики.</p>
            <p>Также была представлена постная продукция на предстоящий пост: винегрет, коврижки, консервированная продукция. В большом ассортименте были представлены детские поделки, предметы рукоделия и православная литература.</p>
            <p>«Масленичная ярмарка стала традиционным мероприятием, к которому дети и родители готовятся с нескрываемой радостью, - рассказывает директор школы Ирина Викторовна Заярина. – Это время, когда мы чувствуем себя единой, дружной семьей».</p>
        `,
        cover: "../images/event-maslenitsa25-1.jpg",
        gallery:
    },
    {
        id: "occnt25",
        date: "8 января 2025 года",
        title: "Рождественский концерт в ОЦКНТ",
        text: `
            <p>Состоялся Рождественский концерт в ОЦКНТ. Вокальный ансамбль Воскресной школы "Ковчег" при Христо-Рождественском соборе участвовал в концерте в составе Архиерейского хора Собора.</p>
            <p>Исполняли музыкальную композицию "Рождественская песня" (слова и музыка И. Цеслюкевич). Концертмейстер - Галина Решетникова.</p>
            <p>Духовная музыка как часть музыкальной культуры обладает огромным воспитательным потенциалом.</p>
        `,
        cover: "../images/event-occnt25-1.jpg",
        gallery:
    }
];

// --- ЛОГИКА ОТОБРАЖЕНИЯ И ПАГИНАЦИИ ---
document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("events-container");
    const loadMoreBtn = document.getElementById("load-more-btn");
    
    if (!container) return;

    let itemsPerPage = 5; // Показывать по 5 штук
    let currentPage = 1;

    function renderEvents() {
        let html = "";
        let startIndex = 0;
        let endIndex = currentPage * itemsPerPage;
        
        // Берем кусок массива, который нужно показать
        let eventsToShow = schoolEvents.slice(startIndex, endIndex);

        eventsToShow.forEach(event => {
            // Генерируем скрытые фото для галереи
            let galleryHtml = "";
            if (event.gallery && event.gallery.length > 0) {
                event.gallery.forEach(imgUrl => {
                    galleryHtml += `<a href="${imgUrl}" data-fancybox="gallery-${event.id}" style="display:none;"></a>`;
                });
            }

            // Рендер карточки (Горизонтальный дизайн)
            html += `
                <div class="event-card">
                    <a href="${event.cover}" class="event-img-wrap" data-fancybox="gallery-${event.id}" data-caption="${event.title}">
                        <img src="${event.cover}" alt="${event.title}" onerror="this.src='../images/placeholder.jpg';">
                    </a>
                    ${galleryHtml}
                    <div class="event-info">
                        <span class="event-date">${event.date}</span>
                        <h4 class="event-title">${event.title}</h4>
                        <div class="event-text">${event.text}</div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;

        // Скрываем или показываем кнопку
        if (schoolEvents.length > endIndex) {
            loadMoreBtn.style.display = "inline-block";
        } else {
            loadMoreBtn.style.display = "none";
        }
    }

    // Инициализация при загрузке
    renderEvents();

    // Клик по кнопке "Показать еще"
    if (loadMoreBtn) {
        loadMoreBtn.addEventListener("click", () => {
            currentPage++;
            renderEvents();
        });
    }
});
